doctype html
html(lang="fr")
    head
        meta(charset="UTF-8")
        title Accueil
        link(rel='icon' type='image/x-icon' href='assets/favicon.ico')
        link(href='css/styles.css' rel='stylesheet')
        link(rel='icon' type='image/svg' href='https://abid.alwaysdata.net/shared_Media/Teilen_logo.svg')
        link(rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css')
        link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1' crossorigin='anonymous')
        style.

            body{
                padding-top: 0px;
                width: 100%;
                margin: auto;
                background-color: rgb(255, 250, 243 );
                

            }
            #navbar{
                color:white;
            }
            .row.no-gutters{
                margin:30px;
                box-sizing: border-box;
                border-radius: 6px;
                padding: 20px;
                border-color: gray;
                box-shadow: 1px 1px 1px 1px gray;
                background: white ;
                width:80%
            }
            .list-group{
                border-radius :15px;
                margin: 4px;
                
            }
            .groupe{
                box-sizing: border-box;
                border-radius: 6px;
                border-color: black;
                background: rgb(232, 216, 204) ;
                margin:10px;
                padding: 20px;
                box-shadow: 1px 1px 1px 1px #B06300;
            }
            .groupe2{
                box-sizing: border-box;
                border-radius: 6px;
                border-color: black;
                background: rgb(232, 216, 204) ;
                margin:10px;
                padding: 20px;
                box-shadow: 1px 1px 1px 1px #B06300;
            }
            .col-md-7.me-auto{
                border-radius: 10px;
 
                         
            }
            .list-group-item.list-group-item-action{
                background: white;
            }
            .texte{
                color: black;
                box-sizing: border-box;
                border-radius: 5px;
                box-shadow: 1px 2px 1px 1px black;
                box-sizing: border-box;
                margin:30px;
            }
            .btn-circle {
                width: 1.875rem;
                height: 1.875rem;
                text-align: center;
                padding: 0.375rem 0;
                font-size: 0.75rem;
                line-height: 1.428571429;
                border-radius: 0.938rem;
                }
        
            .badge{
                color:rgb(24, 23, 23);
                background: rgb(231, 159, 60);
            }

            .bouton:hover{ 
                color: #D87F21;
            }
            .btn1{
                border: none;
                outline: none;
                height: 50px;
                width: 100%;
                background-color: rgb(232, 216, 204);
                color: black;
                border-radius: 4px;
                font-weight: bold;
            }
            .btn1:hover{
                background: black;
                border: 1px solid;
                color: white;
            }
            label {
                display: block;
                font: 1rem 'Fira Sans', sans-serif;
            }

            input,
            label {
                margin: .4rem 0;
            }
            #start{
                border-radius:5px;
                margin:2px;
    
            }
            #appt{
                border-radius:5px;
                margin:2px;
            }
            .btn.btn-primary{
                box-sizing: border-box;
                border-radius: 8px;
                border-color: black;
                background: rgb(232, 216, 204) ;
                margin:3px;
                padding: 4px;
                box-shadow: 1px 1px 1px 1px #D37600;
                color:black;
            }
            .btn.btn-primary:hover{
                background: black;
                border: 1px solid;
                color: white;
            }
            .form-select-sm{
                border-radius: 9px;
            }


    body

            nav.navbar.navbar.sticky-top.navbar-dark.bg-dark
                .container-fluid
                    a.navbar-brand(href='/')
                        img(src='https://abid.alwaysdata.net/shared_Media/Teilen_logo.svg' alt='' width='30' height='24')
                        |Teilen
                    .d-grid.gap-2.d-md-flex.justify-content-md-end
                        a.btn.btn-dark.btn-sm(href='/profil' role='button' data-bs-toggle='button')
                            i.fa.fa-user(aria-hidden='true' style="color:orange; margin:6px;")
                            | Profil
                        a.btn.btn-dark.btn-sm.btn-danger(href='/deconnect' role='button' data-bs-toggle='button')
                            i.fa.fa-sign-out(aria-hidden='true' style="color:red; margin:6px;")
                            | Deconnect
            .container-fluid
                .row
                    .col-md-1.me-auto
                        .w-40.sticky-top
                        div(style="height: 40px;")
                        .row
                            .col-5 
                            .col-7
                                a.btn.badge.rounded-pill.bg-light.text-dark(href=`/#post${post.id}` role='button' data-bs-toggle='button' )
                                    i.fa.fa-undo(aria-hidden='true' style="margin:5px;")
                                    | back 
                        

          
                    .col-md-5.me-auto
                        .well
                            .row.no-gutters
                                .row
                                    .col-9
                                        span.badge.rounded-pill.text=post.tag
                                .row 
                                    .col-8
                                    .col-4
                                        -if(user.id==post.author_id)
                                            a.btn.badge.rounded-pill.bg-light.text-dark(href='/main_filter_posts_rest' role='button' data-bs-toggle='button' ) 
                                                i.fa.fa-pencil-square-o(aria-hidden='true' style="margin:5px;")
                                                |edit
                                            a.btn.badge.rounded-pill.bg-danger.text-dark(href=`/delete_post?post_id=${post.id}&redirect_root=show_post` role='button' data-bs-toggle='button' ) delete
                                br
                                br
                                .row
                                    br       
                                    h5(style="font-weight: bold;")=post.pseudo
                                    small=post.date
                                    br
                                    h6=post.content
                                br
                                if(post.image_link)
                                    p(style="text-align:center;")
                                        img(src=post.image_link width="100%")
                                hr
                                div(style="width:80%; margin:auto;")
                                    .row
                                        .col-6
                                            
                                            form(action=`/add_react?post_id=${post.id}&react=1&redirect_root=show_post` method='POST')
                                                button.btn.bouton(type='submit')
                                                    span.badge.bg-light=post.ups
                                                    -if(post.user_reaction==-1)
                                                        i.fa.fa-thumbs-o-up.fa-fw(aria-hidden='true')
                                                        span Like
                                                    -if(post.user_reaction==0)
                                                        i.fa.fa-thumbs-o-up.fa-fw( aria-hidden='true')
                                                        span Like
                                                    -if(post.user_reaction==1)
                                                        i.fa.fa-thumbs-o-up.fa-fw(style="color:#D87F21;" aria-hidden='true')
                                                        span(style="color:#D87F21;") Like
                                                
                                            
                                        .col-6
                                            form(action=`/add_react?post_id=${post.id}&react=0&redirect_root=show_post` method='POST')
                                                button.btn.bouton(type='submit')
                                                    span.badge.bg-light=post.downs
                                                    -if(post.user_reaction==-1)
                                                        i.fa.fa-thumbs-o-down.fa-fw(aria-hidden='true')
                                                        span Dislike
                                                    -if(post.user_reaction==0)
                                                        i.fa.fa-thumbs-o-down.fa-fw(style="color:#D87F21;" aria-hidden='true')
                                                        span(style="color:#D87F21;") Dislike
                                                    -if(post.user_reaction==1)
                                                        i.fa.fa-thumbs-o-down.fa-fw( aria-hidden='true')
                                                        span Dislike

                    .col-md-6.me-auto
                        .row.no-gutters                
                            span.badge.rounded-pill.bg-light.text-dark Comments :
                                br
                                br
                            -for(var j = 0; j < post.comments.length; j++)
                                .row
                                    .col-11
                                        .list-group
                                            a.list-group-item.list-group-item-action(aria-current='true' id=`comment${post.comments[j].id}` style="background-color:rgb(246, 243, 241);")
                                                .d-flex.w-100.justify-content-between
                                                    h6(style="font-weight: bold;")=`${post.comments[j].pseudo} : `
                                                    small=post.comments[j].date
                                                p.mb-1=post.comments[j].content
                                    .col-1
                                        -if(user.id==post.comments[j].author_id)
                                            a.btn.badge.rounded-pill.bg-light.text-dark(href='/main_filter_posts_rest' role='button' data-bs-toggle='button' ) 
                                                i.fa.fa-pencil-square-o(aria-hidden='true' style="margin:5px;")
                                                |edit
                                            a.btn.badge.rounded-pill.bg-danger.text-dark(href='/main_filter_posts_rest' role='button' data-bs-toggle='button' ) delete
                            form(action=`/add_comment?post_id=${post.id}&redirect_root=show_post` method="POST")
                                .row
                                    .col-8
                                        input.form-control(type='text' name="comment" placeholder="Write your comment here" aria-label='default input example' style="margin:8px",required='')
                                    .col-4
                                        input.form-control(type='submit' value="Add" aria-label='default input example' style="margin:8px")
                    














